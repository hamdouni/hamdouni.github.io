<!doctype html><html lang=en><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Brahim Hamdouni's website"><title>Barim's blog · ابراهيم - Is Go Object Oriented ?</title>
<link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/syntax.css><body><nav><details class=wrapped><summary><div><svg xmlns="http://www.w3.org/2000/svg" class="icon open" fill="none" viewBox="0 0 24 24" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon close" fill="none" viewBox="0 0 24 24" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg><span>Barim's blog · ابراهيم</span></div><span class=lang><a href=https://brahim.hamdouni.com/post/2023-03-31-go-is-object/>fr</a></span></summary><div class=links><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0 7-7 7 7M5 10v10a1 1 0 001 1h3m10-11 2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>Home
</a><a href=/post><svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/></svg>Posts
</a><a href=/lists><svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4A1 1 0 003 5v14a1 1 0 001 1z"/></svg>Lists
</a><a href=/search><svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg>Search
</a><a href=/about><svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M16 7A4 4 0 118 7a4 4 0 018 0zm-4 7a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>About</a></div></details></nav><div id=content class=wrapped><main><header><h1>Is Go Object Oriented ?</h1><em></em><div class=date>Friday, March 31, 2023 · 5 minutes · 923 words</div></header><article><p>During a discussion on a Discord channel, a message puzzled me: Go is not an object-oriented language.</p><p>I knew Go didn&rsquo;t have an inheritance mechanism. But, was that enough to disqualify it as an object language ?</p><p>Allow me to share with you my thoughts on the subject.</p><h2 id=but-first-what-is-an-object-language->But first, what is an object language ?</h2><p>Wikipedia defines an object as a representation of a concept, idea, or entity in the physical world<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>, with properties and behaviors.</p><p>For example, we could represent a car by its brand, color and fuel. That would represent its properties.</p><p>For its behavior, we can say that a car can start, accelerate and brake.</p><p>In the same entity, we find data to store the states (properties), and functions or methods to interact with the object (behavior).</p><p>So, the definition of an object language would be a language that allows data and functions to be grouped together in the same structure?</p><p>Not so simple because with the arrival of new languages, or the evolution of some, this definition has evolved. Today, we can define an object language according to the following criteria :</p><ul><li><p>Encapsulation: the object has a state (data) and a behavior (methods). We are clearly in the definition of the object seen above.</p></li><li><p>Abstraction: the object can &ldquo;hide&rdquo; its internal functioning and expose an interface allowing other objects to interact with it.</p></li><li><p>Inheritance: the object can adopt the behavior of another object without it being necessary to redefine this behavior.</p></li><li><p>Polymorphism: either the same behavior changes according to the object to which it applies, or an inherited behavior is redefined.</p></li></ul><h2 id=does-go-tick-all-the-boxes-of-an-object-language->Does Go tick all the boxes of an object language ?</h2><h3 id=encapsulation>Encapsulation</h3><p>A <em>struct</em> is a collection of data in Go. Here is how I will define a new type &lsquo;Point&rsquo; as a composite object containing its position:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>type</span> Point <span style=color:#8be9fd;font-style:italic>struct</span> {
</span></span><span style=display:flex><span>	X, Y <span style=color:#8be9fd>float64</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>It is possible to define methods on types thanks to the receiver. We add the type that receives the method before the name of the method. For example :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>func</span> (p Point) <span style=color:#50fa7b>Dist</span>() <span style=color:#8be9fd>float64</span> {
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>return</span> math.<span style=color:#50fa7b>Sqrt</span>(p.X<span style=color:#ff79c6>*</span>p.X <span style=color:#ff79c6>+</span> p.Y<span style=color:#ff79c6>*</span>p.Y)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The ingredients for encapsulation are all there: a way to bundle data and behaviors.</p><h3 id=abstraction>Abstraction</h3><p>Data visibility from the outside<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> is defined by the case of the variable name: lower case for a private variable and upper case for a public variable. For example :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>type</span> Car <span style=color:#8be9fd;font-style:italic>struct</span> {
</span></span><span style=display:flex><span>    Color <span style=color:#8be9fd>string</span>   <span style=color:#6272a4>// accessible from outside
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>    code  <span style=color:#8be9fd>string</span>   <span style=color:#6272a4>// not accessible from outside
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>}
</span></span></code></pre></div><p>The same principle is applied for methods which, if their name begins with a lowercase letter, cannot be used externally. Conversely, if their name begins with a capital letter, they will be visible.</p><p>Go calls this mechanism the export of names and allows functionality to be hidden or exposed, as defined by the abstraction.</p><h3 id=inheritance>Inheritance</h3><p>I said above that I knew Go had no inheritance. But that doesn&rsquo;t necessarily mean that Go doesn&rsquo;t achieve the same thing as inheritance. Indeed, Go allows type embedding.</p><p>For example, let&rsquo;s take the example of the car and define a &ldquo;Vehicle&rdquo; object with a &ldquo;Move&rdquo; method:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>type</span> Car <span style=color:#8be9fd;font-style:italic>struct</span> {
</span></span><span style=display:flex><span>    Name <span style=color:#8be9fd>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>func</span> (v Vehicle) <span style=color:#50fa7b>Move</span>() {
</span></span><span style=display:flex><span>    <span style=color:#8be9fd;font-style:italic>println</span>(<span style=color:#f1fa8c>&#34;I move&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Anything that makes up a vehicle can be incorporated into a &ldquo;Car&rdquo; object as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>type</span> Car <span style=color:#8be9fd;font-style:italic>struct</span> {
</span></span><span style=display:flex><span>    Vehicle
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>What if we had to use all of this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>var</span> tuture Car 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>tuture.Vehicle.<span style=color:#50fa7b>Move</span>()  <span style=color:#6272a4>// &#34;I move&#34;
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>tuture.<span style=color:#50fa7b>Move</span>()           <span style=color:#6272a4>// &#34;I move&#34;
</span></span></span></code></pre></div><p><a href=https://go.dev/play/p/YzHGigwG0q2>Complete example on the playground</a></p><p>The two calls to the &ldquo;Move&rdquo; method are valid and there is a way to inherit behaviors from one object to another.</p><h3 id=polymorphism>Polymorphism</h3><p>In the previous example, the 2 calls to the &ldquo;Move&rdquo; method gave the same result because they called the same &ldquo;Move&rdquo; method defined at the level of the &ldquo;Vehicle&rdquo; object. We can redefine the method at the &ldquo;Car&rdquo; level as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>func</span> (v Car) <span style=color:#50fa7b>Move</span>() {
</span></span><span style=display:flex><span>    <span style=color:#8be9fd;font-style:italic>println</span>(<span style=color:#f1fa8c>&#34;I move like a car&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Therefore, calls to &ldquo;Move&rdquo; would give different results:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>var</span> tuture Car
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>tuture.Vehicle.<span style=color:#50fa7b>Move</span>()    <span style=color:#6272a4>// &#34;I move&#34;
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>tuture.<span style=color:#50fa7b>Move</span>()             <span style=color:#6272a4>// &#34;I move like a car&#34;
</span></span></span></code></pre></div><p>A method inherited from a parent object can therefore be modified at the child object level.</p><p>But we can go further. Go has the notion of <em>interface</em> which allows us to define types by their behavior. Concretely, an interface is a collection of methods.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>type</span> Vehicle <span style=color:#8be9fd;font-style:italic>interface</span> {
</span></span><span style=display:flex><span>    <span style=color:#50fa7b>Move</span>()
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>type</span> Car <span style=color:#8be9fd;font-style:italic>struct</span> {}
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>func</span> (v Car) <span style=color:#50fa7b>Move</span>() {
</span></span><span style=display:flex><span>    <span style=color:#8be9fd;font-style:italic>println</span>(<span style=color:#f1fa8c>&#34;I move like a car&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>type</span> Bus <span style=color:#8be9fd;font-style:italic>struct</span> {}
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>func</span> (c Bus) <span style=color:#50fa7b>Move</span>() {
</span></span><span style=display:flex><span>    <span style=color:#8be9fd;font-style:italic>println</span>(<span style=color:#f1fa8c>&#34;I move like a bus&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>func</span> <span style=color:#50fa7b>Check</span>(v Vehicle) {
</span></span><span style=display:flex><span>    v.<span style=color:#50fa7b>Move</span>()
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>We could then call &ldquo;Check&rdquo; either with a &ldquo;Car&rdquo; type or a &ldquo;Bus&rdquo; type as in the following example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>var</span> tuture Car
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>var</span> minibus Bus
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#50fa7b>Check</span>(tuture)   <span style=color:#6272a4>// &#34;I move like a car&#34;
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#50fa7b>Check</span>(minibus)  <span style=color:#6272a4>// &#34;I move like a bus&#34;
</span></span></span></code></pre></div><p><a href=https://go.dev/play/p/VnjuWSbeF50>Complete example on the playground</a></p><p>With the redefinition of inherited methods and interfaces, Go implements polymorphism at several levels.</p><h2 id=conclusion>Conclusion</h2><p>Go is indeed an object language. So what ?</p><p>What matters much more than ticking the boxes of this or that paradigm is giving coders all needed tools to do their job as well as possible. The designers of Go took from other languages what seemed to them the most relevant to make the code readable, efficient and maintainable.</p><p>In my opinion, Go remains an extremely productive language in my daily life as a developer.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://en.wikipedia.org/wiki/Object-oriented_programming>Wikipedia page on object-oriented languages</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>The notion of exterior must be understood in the sense of packages which is the mechanism for variables and functions scope in Go&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><span class=tags><a class=tag href=/tags/thinking/>thinking</a>
<a class=tag href=/tags/go/>go</a></span><div class=links><span class=link><a href=https://barim.us/post/2023-02-01-microsoft-edge-linux-i386/>← Make Microsoft Edge coexist with i386</a>
</span><span class=link><a href=https://barim.us/post/2023-07-26-svelte-tag-input/>Tuto: Tags in Svelte →</a></span></div></article></main></div></body></html>