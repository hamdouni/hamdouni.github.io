<!DOCTYPE html>
<html lang="en"><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Brahim Hamdouni&#39;s website">
<title>Brahim Hamdouni  ·  ابراهيم - Horloge géante dans le terminal</title>
<link rel="stylesheet" href="/css/style.css">
<body><nav>
    <details>
        <summary>
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon open" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon close" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
                <span>
                    Brahim Hamdouni  ·  ابراهيم
                </span>
            </div>
            
            <span class="lang">
                
                <a href="https://barim.us/post/2020-10-14-horloge-geante-dans-le-terminal/">
                    en
                </a>
                
            </span>
            
        </summary>
        <div class="links">
            <a href='/'>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                </svg>
                Accueil
            </a>
            <a href='/post'>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />
                </svg>
                Articles
            </a>
            <a href='/lists'>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z" />
                </svg>
                Listes
            </a>
            <a href='/search'>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
                Recherche
            </a>
        </div>
    </details>
</nav>
<div id="content">
<main>
    <header>
        <h1>Horloge géante dans le terminal</h1>
        <em></em>
        <div class="date"> mercredi 14 octobre 2020 · 1 minute · 203 mots </div>
    </header>
    <article>

        <p>Cette note explique comment afficher une horloge géante sous Linux sans utiliser de programme particulier ni utiliser une application web comme time.is. Avec juste votre terminal et quelques commandes, vous pourrez obtenir ce qui suit :<!-- raw HTML omitted --></p>
<p><img src="/img/image.png" alt="This shows a black terminal window with the hour in very big letters."> <!-- raw HTML omitted --></p>
<p>Nous devons installer &ldquo;figlet&rdquo;, un outil permettant d&rsquo;afficher des caractères énormes dans le terminal :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">sudo apt install figlet
</code></pre></div><p>Ensuite, dans votre terminal, tapez la commande suivante :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#66d9ef">while</span> true; <span style="color:#66d9ef">do</span> printf <span style="color:#e6db74">&#39;\033[2J\033[H&#39;</span>; date +<span style="color:#e6db74">&#39;%T&#39;</span> | figlet -ctW; sleep 1; <span style="color:#66d9ef">done</span>
</code></pre></div><p>Explication rapide :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#66d9ef">while</span> true; <span style="color:#66d9ef">do</span> ... ; <span style="color:#66d9ef">done</span>
</code></pre></div><p>Définit une boucle infinie. Pour l&rsquo;arrêter, utilisez la combinaison de touche CTRL + C.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">printf <span style="color:#e6db74">&#39;\033[2J\033[H&#39;</span>
</code></pre></div><p>Efface l&rsquo;écran et positionne le curseur tout en haut et à gauche. La séquence d&rsquo;échapement \033[2J permet d&rsquo;effacer tout l&rsquo;écran et \033[H envoi le curseur en haut à gauche. cf <a href="https://en.wikipedia.org/wiki/ANSI_escape_code#CSI_sequences">la page Wikipedia en anglais sur tous les codes d&rsquo;échappement ANSI</a> pour avoir d&rsquo;autres séquences utiles.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">date +<span style="color:#e6db74">&#39;%T&#39;</span>
</code></pre></div><p>Affiche l&rsquo;heure sous la forme heure:minutes:secondes (raccourci pour %H:%M:%S).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">| figlet -ctW 
</code></pre></div><p>Affiche le résultat avec de grandes lettres. Remarquez la présence de la barre verticale | qui permet de signifier que le résultat de la commande précédente (date) devient l&rsquo;entrée de la commande figlet.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">sleep <span style="color:#ae81ff">1</span>
</code></pre></div><p>Patiente pendant 1 secondes avant de recommencer.</p>

        
        <div class="links">
            
            <span class="link">
                <a href="https://brahim.hamdouni.com/post/2020-09-12-changer-le-nom-du-dossier-owncloud/">← Changer le nom du dossier ownCloud</a>
            </span>
            
            
            <span class="link">
                <a href="https://brahim.hamdouni.com/post/2020-11-08-appliquer-les-modifications-depuis-le-depot-git-parent/">Appliquer les modifications depuis le dépôt git parent →</a>
            </span>
            
        </div>
    </article>
</main>

        </div></body>
</html>
